<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fantasy Fight Picks</title>

  <!-- Performance: load Orbitron early -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;900&display=swap" rel="stylesheet">

  <!-- Favicon: ðŸ‘Š -->
  <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ‘Š</text></svg>">

  <link rel="stylesheet" href="style.css" />
  <script>
    // If your GAS endpoint differs, set window.API_BASE before script.js loads.
    window.API_BASE = window.API_BASE || "/api";
  </script>
</head>
<body>
  <!-- Logo -->
  <div class="banner-container">
    <img class="logo-banner" src="logo_fighter.png" alt="Logo" decoding="async" />
  </div>

  <!-- Champion banner (edge-to-edge, medium size) -->
  <div id="champBanner" class="champ-banner"></div>

  <div id="app">
    <!-- Username prompt -->
    <div id="usernamePrompt" class="card center">
      <div class="prompt-title">Enter Your Name</div>
      <input id="usernameInput" type="text" placeholder="e.g. Alex" />
      <button type="button">Letâ€™s Go</button>
    </div>

    <!-- Welcome -->
    <div id="welcome" style="display:none;"></div>

    <!-- Scoring (collapsible only; content injected by JS) -->
    <details id="scoringPanel" class="rules-collapsible">
      <summary>
        <span class="rules-toggle-label">ðŸ§  Scoring</span>
        <span class="rules-caret" aria-hidden="true">â–¸</span>
      </summary>
      <section id="scoringRules" class="rules"></section>
    </details>

    <!-- Fights -->
    <div id="fightList"></div>

    <!-- FOTN -->
    <div id="fotnBlock" style="display:none;"></div>

    <!-- Submit -->
    <button id="submitBtn" style="display:none;">Submit Picks</button>

    <!-- My Picks (hidden until user has picks) -->
    <section id="myPicks" style="display:none;"></section>

    <!-- Discord CTA -->
    <div class="cta-discord">
      <a class="btn-discord" href="https://discord.gg/azMMVrEB" target="_blank" rel="noopener">
        <span class="discord-icon" aria-hidden="true">
          <!-- Inline Discord glyph -->
          <svg width="22" height="22" viewBox="0 0 245 240" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M104.4 103.9c-5.7 0-10.2 5-10.2 11.1 0 6.1 4.6 11.1 10.2 11.1 5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zm36.2 0c-5.7 0-10.2 5-10.2 11.1 0 6.1 4.6 11.1 10.2 11.1 5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"/>
            <path d="M189.5 20h-134C24.8 20 5 39.8 5 64.5v111C5 200.2 24.8 220 49.5 220h113l-5.3-18.5 12.8 11.9 12.1 11.2 21.4 19.4V64.5C203.5 39.8 183.7 20 159 20zm-26.3 135s-2.5-3-4.6-5.6c9.2-2.6 12.7-8.4 12.7-8.4-2.9 1.9-5.7 3.2-8.2 4.1-3.6 1.5-7.1 2.5-10.5 3.1-6.9 1.3-13.2.9-18.6-.1-4.1-.8-7.7-1.9-10.7-3.1-1.7-.7-3.5-1.5-5.3-2.5-.2-.1-.4-.2-.5-.3-.1 0-.1-.1-.2-.1-.9-.5-1.4-.8-1.4-.8s3.4 5.7 12.4 8.3c-2.1 2.6-4.7 5.7-4.7 5.7-15.5-.5-21.4-10.7-21.4-10.7 0-22.7 10.2-41.1 10.2-41.1 10.2-7.6 19.9-7.4 19.9-7.4l.7.8c-12.8 3.7-18.7 9.4-18.7 9.4s1.6-.9 4.3-2.1c7.8-3.4 14-4.3 16.5-4.5.4-.1.8-.1 1.2-.1 4.3-.6 9.2-.8 14.3-.2 6.7.8 13.8 2.8 21.1 6.8 0 0-5.6-5.3-17.6-9l.9-1s9.7-.2 19.9 7.4c0 0 10.2 18.4 10.2 41.1 0 0-5.9 10.2-21.5 10.7z"/>
          </svg>
        </span>
        Join the trash talk
      </a>
    </div>

    <!-- Leaderboard title -->
    <h3 class="section-title" id="leaderboardTitle">LEADERBOARD</h3>

    <!-- Tabs -->
    <div class="segmented">
      <button id="tabWeekly" aria-pressed="true">Weekly</button>
      <button id="tabAllTime" aria-pressed="false">All-Time</button>
    </div>

    <!-- Leaderboards -->
    <ul id="leaderboard" class="board weekly"></ul>
    <ul id="allTimeBoard" class="board at-five" style="display:none;"></ul>
  </div>

  <!-- Defer main script -->
  <script src="script.js" defer></script>
</body>
</html>
