<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fantasy Fight Picks</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ‘Š</text></svg>">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Logo -->
  <div class="banner-container">
    <img src="logo_fighter.png" alt="Fantasy Fight Picks Logo" class="logo-banner">
  </div>

  <!-- Champion banner -->
  <div id="champBanner" class="champ-banner" style="display:none;"></div>

  <div id="app">
    <!-- Username prompt -->
    <div id="usernamePrompt">
      <label for="usernameInput">Enter your name:</label>
      <input type="text" id="usernameInput" />
      <button type="button" onclick="lockUsername()">Lock In</button>
    </div>

    <!-- Welcome -->
    <h2 id="welcome" style="display:none;"></h2>

    <!-- Scoring Rules -->
    <div id="scoringRules" style="display:none;">
      <div class="scoring-box tight">
        <div>+1 pt for winner</div>
        <div>+1 pt for method (if winner is correct)</div>
        <div>+1 pt for round (if winner &amp; method are correct &amp; method â‰  Decision)</div>
        <div>+2 bonus pts for correct underdog winner</div>
      </div>
    </div>

    <!-- Fight List -->
    <div id="fightList" style="display:none;"></div>
    <button id="submitBtn" type="button" onclick="submitPicks()" style="display:none;">Submit Picks</button>

    <!-- My Picks -->
    <div id="myPicks" style="margin-top:20px;"></div>

    <!-- Leaderboard -->
    <h2 class="leader-title">LEADERBOARD</h2>

    <!-- Tabs -->
    <div id="boardTabs">
      <button id="tabWeekly" aria-pressed="true" type="button">Weekly</button>
      <button id="tabAllTime" aria-pressed="false" type="button">All-Time</button>
    </div>

    <!-- Weekly list -->
    <ul id="leaderboard"></ul>

    <!-- All-Time list -->
    <ul id="allTimeBoard" style="display:none;"></ul>
  </div>

  <script src="script.js"></script>

  <!-- Header normalizer (safe, additive; does NOT change your JS logic) -->
  <script>
    (function () {
      const ready = fn => (document.readyState !== 'loading') ? fn() : document.addEventListener('DOMContentLoaded', fn);
      ready(() => {
        const ul = document.getElementById('allTimeBoard');
        if (!ul) return;

        // Remove stray empty text nodes at top
        Array.from(ul.childNodes).slice(0, 5).forEach(n => {
          if (n.nodeType === 3 && !n.textContent.trim()) ul.removeChild(n);
        });

        // If there's already a proper 5-cell header, keep it; hide any extras later
        const existingHeader = ul.querySelector('li.board-header');
        const valid = existingHeader && existingHeader.children && existingHeader.children.length === 5;

        if (!valid) {
          const hdr = document.createElement('li');
          hdr.className = 'board-header';
          ['Rank','Player','Rate','Crowns','Events'].forEach(t => {
            const s = document.createElement('span');
            s.textContent = t;
            hdr.appendChild(s);
          });
          ul.insertBefore(hdr, ul.firstChild || null);
        }

        // If your script also renders a header, hide duplicates so only the first shows
        ul.querySelectorAll('li.board-header:not(:first-child)').forEach(el => {
          el.style.display = 'none';
        });
      });
    })();
  </script>
</body>
</html>
